<?= GridView::widget(['dataProvider' => $dataProvider, 'columns' => array_merge([['class' => 'yii\grid\SerialColumn'], 'id', ['attribute' => 'name', 'label' => Yii::t('app', 'ui.name')]], $user->isAdmin ? [['attribute' => 'cost', 'format' => 'currency'], ['attribute' => 'margin', 'format' => 'percent']] : [], [['attribute' => 'status', 'filter' => $statuses, 'value' => static fn ($m) => $m->statusLabel], ['class' => 'yii\grid\ActionColumn']])]) ?>
